!function(e,a,l,t,i,o,n){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=a.createElement(l),n=a.getElementsByTagName(l)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(o,n)}(window,document,"script",0,"ga"),function(e){e.adFullpageGA={clicked:!1,mp:null,ad_id:null,abtest:"",init:function(a){var l=this;l.ad_id=a.ad_id||"(unknown)",l.abtest=a.abtest||"",l.client=a.client||"",l.abtest&&(l.abtest+="_"),ga("create","UA-71397761-9","auto",{name:"flyAD"}),ga("flyAD.set","page","/blog/"),ga("flyAD.send","event",l.abtest+"flyad_impression","client_"+l.client),e.adFullpageRoot.find(".ad-full-page-continue").click(function(){ga("flyAD.send","event",l.abtest+"flyad_click_continue","client_"+l.client),l.clicked=!0}),e.adFullpageRoot.find(".ad-full-page-link").click(function(){ga("flyAD.send","event",l.abtest+"flyad_click_ad","client_"+l.client),l.clicked=!0});var t=!1;window.onbeforeunload=window.onunload=window.onpagehide=function(){!t&&e.adFullpageRoot&&e("#ad-full-page").length>0&&(ga("flyAD.send","event",l.abtest+"flyad_leave","client_"+l.client),t=!0)}},sendFlyWaited:function(){var e=this;e.clicked||(ga("flyAD.send","event","flyAD",e.abtest+"click_fly_waited","page"),e.clicked=!0)}}}(jQuery),function(e){e(function(){var a,l,t,i,o=function(e){var a=new RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))},n=function(e){var a,l=0,t=Math.random();for(var i in e)if(l+=e[i],t<=l){a=i;break}return a||Object.keys(e)[0]},d=pix.falconsite,p=pix.secureProtocol,r=e("body"),f="block"===r.data("adsense-state"),s="adult"===r.data("adsense-classification"),u=o("demo_ad_no"),g=o("ad_num"),c=o("preview_mib_fly_desktop_image_ad"),v=(o("adDemoStyle"),!!u&&("3197"===g||"1029"===g||"3457"===g||"1829"===g)||!!c&&"10"===c),h=!1,m="origin",x=function(){if("10"===c)return"1029";if(v)return h=!0,g;if(s)return"1829";if(f)return"3457";if(Date.now()>15373278e5&&Date.now()<153737274e4){var e={};return h=!0,e[1029]=.5,e[3197]=.5,n(e)}return"1029"}(),b=function(e){var a="; "+document.cookie,l=a.split("; "+e+"=");return 2===l.length?l.pop().split("; ").shift():""},w=p+d+"/ad/json?pos[]="+x+",0,0&version=2"+function(){var e=b("pixtag");return e?"&pixtag="+e:""}(),y=e.adFullpageCss,_=e.originAdFullpage,k=e("#article-box .title:first").data("site-category-id"),F=r.data("blog-site-category-id");(window.pix&&(!pix.MIB.config.hasMIB||pix.MIB.config.availablePositions[4].enable)||v)&&(!v&&("none"===e(document.body).data("showingAdvertisement")||pix&&pix.is_owner)||("1029"===x&&(w+="&merge_position["+x+"]=3367"),u?w+="&demo_ad_no="+u:"10"===c&&(w+="&demo_ad_no=16b5d40cc4499ee92eab6f42ceb83895"),document.referrer&&(w+="&ref="+encodeURI(document.referrer)),k>=0&&(w+="&article_category="+encodeURI(k)),F>=0&&(w+="&blog_category="+encodeURI(F)),a=function(e,a){var l,t;if("object"!=typeof e)throw"ERROR: data is not an Object";if("string"!=typeof a)throw"ERROR: template is not an String";t=a;for(l in e){var i=new RegExp("#{s*"+l+"s*}","g");t=t.replace(i,e[l])}return t},l=function(){var a=function(){e.adFullpageRoot.remove(),e.adFullpageRoot=null,clearInterval(t)};pix&&(pix.removeFullpageAd=a),e.adFullpageRoot.find(".ad-full-page-continue").one("click",function(){e.adFullpageRoot.remove(),e.adFullpageRoot=null,clearInterval(t),i.stop()}),e(document).one("keydown",function(a){27===a.keyCode&&(e.adFullpageRoot.find(".ad-full-page-continue").click(),i.stop())}),e.adFullpageRoot.find(".ad-content").on("click.content",function(a){"ad-content"===a.target.classList[0]&&(e.adFullpageRoot.find(".ad-content").off("click.content"),e.adFullpageRoot.find(".ad-full-page-continue").click(),i.stop())}),"new"===m&&e.adFullpageRoot.find("#ad-player_html5_api").on("loadedmetadata",function(){var a,l,t=this.videoWidth,i=this.videoHeight;a=t*e.adFullpageRoot.find(".ad-full-page-video").height()/i,l=(document.body.clientWidth-a)/2+35,e.adFullpageRoot.find(".video-full-container").find(".video-ad-button").css("margin-right",l)})},e.ajax({dataType:"json",type:"GET",url:w,xhrFields:{withCredentials:!0}}).done(function(o){function n(){function a(e){e.addEventListener("load",function(){t(h)},!0)}function l(){window.cancelAFrame(u),document.removeEventListener("visibilitychange",i,!1)}function t(e){u=window.requestAnimFrame(o),f="video"===e.type?2e3:1e3,document.addEventListener("visibilitychange",i)}function i(){document.hidden?(window.cancelAFrame(u),r=n()-p,p=0):window.requestAnimFrame(o)}function o(){p=p||n(),n()-p+r>=f?(l(),d(h)):s||window.requestAnimFrame(o)}function n(){return"object"==typeof window.performance?window.performance.now():(new Date).getTime()}function d(e){(new Image).src=e.activeview_url}var p=n(),r=0,f=0,s=!1,u="";this.checkAdHaveload=function(l){var i,o=e.adFullpageRoot.find(".ad-box")[0];if("image"!==l.type&&"html5"!==l.type||o.querySelector("img, iframe").addEventListener("load",function(){t(l)},!0),"video"===l.type&&(i="new"===m?e.adFullpageRoot.find("#ad-player_html5_api"):e.adFullpageRoot.find(".ad-full-page-video"),i.on("loadedmetadata",function(){t(l)})),"js"===l.type){var n=o.querySelector("img, iframe");if(n)return void a(n);o.addEventListener("DOMSubtreeModified",function e(){(n=o.querySelector("img, iframe"))&&(a(n),o.removeEventListener("DOMSubtreeModified",e,!1))})}},this.stop=function(){s=!0,l()}}function d(){p(),r()}function p(){c.removeClass("hide"),e.adFullpageRoot.find(".loading-icon").addClass("hide")}function r(){t=setInterval(function(){var e=Math.floor(g[0].currentTime),a=Math.round(g[0].duration),l=Math.round(.5*a),i=Math.round(.7*a),o=[{5:function(){return e}},{10:function(){return e}}],n={},d={},p={};n[l]=function(){return 50},d[i]=function(){return 70},p[a]=function(){return clearInterval(t),100},o.push(n,d,p),o.map(function(a){e in a&&f(a[e]())})},1e3)}function f(e){(new Image).src=h.video_callback_url+"&t="+e}function s(){g.remove(),p()}var u,g,c,v=o.ad_slots[0],h=v&&v.ad_list[0],x=["739180e2f5d426430aa97883d80fb3f5","8e26544431308ea2a69ef7855bf90136","7d9d250117293cc1bf8255c037ce2d00","f488f60fea939e83a735aa3c9acd8e86","8714853101ce8b3cba85a4d2b21e2b32"],b=["fullsize","fullsize_without_bg"];h&&(location.pathname.match(/blog\/post/)?h.title=e("#article-box").find("li.title").text():h.title=e("title").text(),h.cover=e('meta[name="cover_image"]').attr("content"),h.cover=h.cover?h.cover.replace("200x200","100x100"):"",-1===h.file.indexOf("clickTAG")&&"video"===h.type&&(h.file+="&clickTAG="+encodeURIComponent(h.click_url)),h.file_content&&h.file_mime_type&&(h.file="data:"+h.file_mime_type+";base64,"+h.file_content),-1===x.indexOf(h.hashid)&&-1===b.indexOf(h.file_type)||(_=e.newAdFullpage,m="new"),u=a(h,_)+y,e(document.body).append(u),e.adFullpageRoot=e("#ad-full-page"),g=e.adFullpageRoot.find(".ad-full-page-video"),c=e.adFullpageRoot.find(".ad-full-page-link"),pix.MIB.config.availablePositions[4].enable&&function(){e.adFullpageRoot.find(".ad-box").append('<span class="mib--ad-box__icon"><a href="#">痞客邦廣告聯播網</a></span>')}(),e.adFullpageRoot.find(".ad-box").data().url=h.click_url,"video"===h.type?(c.find("img").remove(),g.on("canplay",d),g.on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||(g.hide(),setTimeout(function(){g.show()},300))}),e.adFullpageRoot.find(".ad-full-page-video__source").on("error",s)):(c.find("iframe").remove(),c.find("img").on("load",s)),"js"!==h.type&&"html5"!==h.type||(c.after(v.html),c.remove(),e.adFullpageRoot.find(".loading-icon").addClass("hide")),"new"===m&&(function(a){var l=["fullsize","fullsize_without_bg"],t=["970x500_without_bg","fullsize_without_bg"],i=a.file_type,o="//front.pixfs.net"+pix.domain_append,n=o+"/module/fullPage/images/btnClose.png";if(e.adFullpageRoot.find(".ad-full-page-continue").find("img").attr("src",n),t.indexOf(i)>=0&&e.adFullpageRoot.find(".back-pane").remove(),"video"!==a.type&&e.adFullpageRoot.find(".video-full-container").add(".video-not-full-container").remove(),-1===l.indexOf(i))return e.adFullpageRoot.find(".content-wrap").addClass("not-full-page"),void("video"===a.type&&(e.adFullpageRoot.find(".video-full-container").remove(),"970x500_without_bg"===i&&(e.adFullpageRoot.find(".ad-content").addClass("video-without-bg"),e.adFullpageRoot.find(".mib--ad-box__icon").remove(),e.adFullpageRoot.find(".video-wrap").append('<span class="mib--ad-box__icon"><a href="#">痞客邦廣告聯播網</a></span>'),e.adFullpageRoot.find(".video-wrap").find("a").removeClass("hide"))));e.adFullpageRoot.find(".content-wrap").addClass("full-page"),"video"===a.type&&(e.adFullpageRoot.find(".video-not-full-container").remove(),"fullsize_without_bg"===i&&e.adFullpageRoot.find(".content-wrap").addClass("video-full-without-bg"),"fullsize"===i&&e.adFullpageRoot.find(".content-wrap").addClass("video-full-with-bg"))}(h),"video"===h.type&&function(a){videojs("ad-player",{sources:[{src:a.videofile_mp4,type:"video/mp4"},{src:a.videofile_webm,type:"video/webm"}]},function(){this.play(),this.on("loadedmetadata",function(){if("fullsize"===a.file_type)if(this.videoWidth()/this.videoHeight()>1.7)e.adFullpageRoot.find(".video-full-container").addClass("video-full-container--big");else{var l=e.adFullpageRoot.find(".video-full-container");l.addClass("video-full-container--small"),e.adFullpageRoot.find(".video-wrap").css("padding-bottom","75%"),"left"===a.video_align?l.addClass("ad-left-video--small"):"right"===a.video_align&&l.addClass("ad-right-video--small")}})})}(h)),l(),i=new n,i.checkAdHaveload(h),window.addEventListener("error",function(){clearInterval(t)}))})))})}(jQuery),function(e){e.adFullpageCss="<style>#ad-full-page,#ad-full-page .new-style .not-full-page .ad-box img,#ad-full-page .new-style .not-full-page .ad-header{min-width:720px}#ad-full-page .loading-icon{position:absolute;width:8px;height:8px;margin:250px 50%;box-shadow:0 -14px 0 rgba(255,255,255,.8),10px -10px 0 rgba(255,255,255,.7),14px 0 1px rgba(255,255,255,.6),10px 10px 1px rgba(255,255,255,.5),0 14px 2px rgba(255,255,255,.4),-10px 10px 2px rgba(255,255,255,.3),-14px 0 3px rgba(255,255,255,.2),-10px -10px 3px rgba(255,255,255,.1);filter:alpha(Opacity=50);opacity:.5;border-radius:50%;transform-origin:50% 50%;animation:load .5s steps(8,end) infinite}#ad-full-page .loading-icon.no-cssanimation{right:-40px;width:32px;height:32px;background:url(//panel.pixfs.net/images/common/loading.gif) no-repeat;display:inline-block}@keyframes load{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#ad-full-page{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100000006;margin:auto;background-color:rgba(0,0,0,.85);box-sizing:border-box}#ad-full-page .normal-style{width:100%;height:100%}#ad-full-page .normal-style a{position:relative;cursor:pointer}#ad-full-page .normal-style .ad-header{height:100px;background-color:#fff}#ad-full-page .normal-style .ad-content{display:block;height:calc(100% - 100px);max-height:100%;padding-top:28px;padding-right:20px;padding-left:20px;text-align:center;box-sizing:border-box}#ad-full-page .normal-style .ad-content img{max-width:100%;max-height:100%}#ad-full-page .normal-style .ad-content .full-img{width:100%;height:100%}#ad-full-page .normal-style .ad-content .ad-box-full{width:100%}#ad-full-page .normal-style .ad-box{position:relative;margin:auto;width:970px}#ad-full-page .normal-style .ad-text{padding:0 14px;font-size:14px;line-height:16px;color:#bbb}#ad-full-page .normal-style .button-text{position:relative;top:36px;right:29px;text-align:right}#ad-full-page .normal-style .button-text a{width:137px;height:33px;font-family:PingFangTC;font-size:24px;font-weight:600;letter-spacing:2.4px;color:#006ac6;text-align:left}#ad-full-page .normal-style .button-text a:active,#ad-full-page .normal-style .button-text a:hover{color:#f60}#ad-full-page .normal-style .button-text img{width:20px;height:20px;margin-right:11px;vertical-align:top}#ad-full-page .normal-style .button-text nav{height:20px;line-height:20px}#ad-full-page .normal-style .button-text .tip{margin-top:14px;margin-right:2px;font-family:NotoSansCJKtc;font-size:14px;font-weight:500;letter-spacing:1.1px;color:#9b9b9b;text-align:left}#ad-full-page .normal-style .button-text .tip__point{color:#006ac6}#ad-full-page .normal-style .ad-article-link{height:100%}#ad-full-page .normal-style .ad-article-link,#ad-full-page .normal-style .ad-article-title{position:relative}#ad-full-page .normal-style .ad-article-title .ad-title-box{position:relative;top:0;width:400px;margin-top:19px}@media (max-width:876px){#ad-full-page .normal-style .ad-article-title .ad-title-box{width:200px}}#ad-full-page .normal-style .ad-article-title .ad-title{height:1.4em;margin-top:10px;overflow:hidden;font-size:16px;font-weight:700;line-height:1.4em;color:#222;text-overflow:ellipsis;white-space:nowrap}#ad-full-page .normal-style .ad-article-link .ad-text{position:absolute;right:0;margin-top:27px;text-align:right}#ad-full-page .normal-style .ad-full-page-video{position:absolute;max-width:512px;max-height:288px;padding-top:82px}#ad-full-page .normal-style .ad-full-page-iframe{width:970px;height:500px;overflow-y:hidden}#ad-full-page .normal-style .ad-right-video{right:25px}#ad-full-page .normal-style .ad-left-video{left:44px}#ad-full-page .normal-style .ad-center-video{right:0;left:0;margin:auto}#ad-full-page .normal-style .ad-left-box{float:left}#ad-full-page .normal-style .ad-right-box{float:right}#ad-full-page .new-style{width:100%;height:100%}#ad-full-page .new-style .ad-full-page-continue{position:absolute;top:67px;display:inline-block;color:#fff;cursor:pointer}#ad-full-page .new-style .ad-full-page-continue span{display:inline-block;padding-right:2px;font-size:16px;line-height:30px;vertical-align:bottom}#ad-full-page .new-style .ad-full-page-continue img{position:relative;top:-1px;width:30px;height:30px;vertical-align:middle}#ad-full-page .new-style .ad-click-link{position:absolute;top:0;display:block;width:100%;height:100%}#ad-full-page .new-style .full-page{height:100%}#ad-full-page .new-style .full-page .ad-content{position:relative;height:100%;padding:0}#ad-full-page .new-style .full-page .ad-box{position:relative;top:111px;margin:auto;width:100%}#ad-full-page .new-style .full-page .ad-box img{width:100%;height:auto}#ad-full-page .new-style .full-page .ad-box iframe{width:100%;height:41.666667vw}#ad-full-page .new-style .full-page .ad-full-page-continue{right:16px}#ad-full-page .new-style .video-full-without-bg .ad-full-page-video{position:relative;width:100%;height:41vw;max-height:600px}#ad-full-page .new-style .video-full-without-bg .video-ad-button{position:absolute;right:0;bottom:65px;display:inline-block;border:1px solid #fff;padding:10px 30px;font-size:18px;line-height:18px;color:#fff;background-color:rgba(0,0,0,.4);border-radius:10px;cursor:pointer}#ad-full-page .new-style .video-full-with-bg .video-full-container{position:absolute;max-width:760px;max-height:428px}#ad-full-page .new-style .video-full-with-bg .video-full-container--big{width:52.77777778vw;margin-top:5.9722222222vw}#ad-full-page .new-style .video-full-with-bg .video-full-container--small{width:39.5833333333vw;margin-top:5.9722222222vw}#ad-full-page .new-style .video-full-with-bg .video-wrap{position:relative;width:100%;height:0;padding-bottom:56.25%;overflow:hidden}#ad-full-page .new-style .video-full-with-bg .ad-full-page-video{position:absolute;top:0;left:0;width:100%;height:100%}#ad-full-page .new-style .video-full-with-bg .ad-right-video{right:40px}#ad-full-page .new-style .video-full-with-bg .ad-left-video{left:40px}#ad-full-page .new-style .video-full-with-bg .ad-right-video--small{right:135px}#ad-full-page .new-style .video-full-with-bg .ad-left-video--small{left:135px}#ad-full-page .new-style .video-full-with-bg .ad-center-video{right:0;left:0;margin-left:auto;margin-right:auto}#ad-full-page .new-style .not-full-page{height:100%;overflow:scroll}#ad-full-page .new-style .not-full-page .ad-content{position:relative;height:100%;padding:0}#ad-full-page .new-style .not-full-page .ad-box{position:relative;top:111px;margin:auto;width:970px}#ad-full-page .new-style .not-full-page .ad-box>iframe{height:500px}#ad-full-page .new-style .not-full-page .ad-full-page-continue{right:215px}#ad-full-page .new-style .not-full-page .ad-full-page-video{position:absolute;max-width:512px;max-height:288px;margin-top:81px;margin-right:auto;margin-left:auto}#ad-full-page .new-style .not-full-page .ad-full-page-iframe{width:970px;height:500px;overflow-y:hidden}#ad-full-page .new-style .not-full-page .ad-right-video{right:35px}#ad-full-page .new-style .not-full-page .ad-left-video{left:35px}#ad-full-page .new-style .not-full-page .ad-center-video{right:0;left:0}#ad-full-page .new-style .not-full-page .video-not-full-container,#ad-full-page .new-style .not-full-page .video-without-bg{text-align:center}#ad-full-page .new-style .not-full-page .video-without-bg .ad-box{display:inline-block;width:auto}#ad-full-page .new-style .not-full-page .video-without-bg .video-wrap{position:relative;display:inline-block}#ad-full-page .new-style .not-full-page .video-without-bg .ad-full-page-video{position:relative;width:800px;height:450px;max-width:none;max-height:none;margin-top:0}#ad-full-page .new-style .not-full-page .video-without-bg .vjs-tech{width:800px;height:auto}#ad-full-page .new-style .not-full-page .video-without-bg .video-ad-button{position:absolute;right:20px;bottom:110px;display:inline-block;border:1px solid #fff;padding:10px 20px;font-size:16px;line-height:16px;color:#fff;background-color:rgba(0,0,0,.4);border-radius:10px;cursor:pointer}#ad-full-page .inline-box{display:inline-block}#ad-full-page .hide{display:none!important}</style>"}(jQuery),function(e){e.newAdFullpage='<div id="ad-full-page"><div class="new-style"><div class="content-wrap"><div class="ad-content"><a class="ad-link ad-full-page-continue"><span>關閉廣告</span> <img src="" title="close ad button" alt="close ad button"></a><div class="loading-icon"></div>\x3c!--[if lte IE 9]><div class="loading-icon no-cssanimation"></div><![endif]--\x3e<div class="ad-box"><div class="ad-full-page-link hide"><div class="video-full-container ad-#{video_align}-video"><div class="video-wrap"><video id="ad-player" class="ad-full-page-video video-js" autoplay controls muted controlslist="nodownload noremoteplayback"></video><a href="#{click_url}" target="_blank" rel="noopener"><div class="video-ad-button">了解詳情</div></a></div></div><div class="video-not-full-container"><div class="video-wrap"><video id="ad-player" class="ad-full-page-video ad-#{video_align}-video video-js" autoplay controls muted controlslist="nodownload noremoteplayback"></video><a href="#{click_url}" class="hide" target="_blank" rel="noopener"><div class="video-ad-button">了解詳情</div></a></div></div><div class="back-pane"><iframe class="ad-full-page-iframe" src="#{file}" frameborder="0"></iframe><a href="#{click_url}" target="_blank" rel="noopener"><img src="#{file}" alt="#{file}"></a></div></div></div></div></div></div></div>'}(jQuery),function(e){e.originAdFullpage='<div id="ad-full-page"><div class="normal-style"><div class="ad-header"><div class="ad-left-box ad-article-title"><div class="inline-box ad-left-box"><img src="#{cover}" alt="#{cover}" width="100" height="100"></div><div class="inline-box ad-text ad-left-box"><div class="ad-title-box ad-left-box"><nav>即將為您開啟</nav><nav class="ad-title">#{title}</nav></div></div></div><div class="ad-right-box ad-article-link"><div class="inline-box button-text"><nav><a class="ad-link ad-full-page-continue"><img src="//s.pixfs.net/blog/images/common/btn_close.png" title="close ad button" alt="close ad button">關閉廣告</a></nav><nav class="tip">您可點擊 <span class="tip__point">關閉廣告鈕</span>、<span class="tip__point">背景黑底</span>、<span class="tip__point">ESC鍵</span> 關閉廣告</nav></div></div></div><div class="ad-content"><div class="loading-icon"></div>\x3c!--[if lte IE 9]><div class="loading-icon no-cssanimation"></div><![endif]--\x3e<div class="ad-box"><a href="#{click_url}" class="ad-full-page-link hide" target="_blank"><video class="ad-full-page-video ad-#{video_align}-video" autoplay controls muted controlslist="nodownload noremoteplayback"><source class="ad-full-page-video__source" src="#{videofile_mp4}" type="video/mp4"><source class="ad-full-page-video__source" src="#{videofile_webm}" type="video/webm">Your browser does not support the video tag.</video><img src="#{file}" alt="#{file}"><iframe class="ad-full-page-iframe" src="#{file}" frameborder="0"></iframe></a></div></div></div></div>'}(jQuery);